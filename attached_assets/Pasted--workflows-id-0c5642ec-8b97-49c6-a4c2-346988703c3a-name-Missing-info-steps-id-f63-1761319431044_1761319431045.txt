{"workflows":[{"id":"0c5642ec-8b97-49c6-a4c2-346988703c3a","name":"Missing_info","steps":[{"id":"f637dc4f-855f-4bb4-867d-eaac60c9b2d4","type":"start","start":{"launchVariables":[{"key":"missing_elements"},{"key":"ontbrekend_bewijs"}]},"__editingData":{"top":"0px","left":"-171.5px"},"defaultTransitionId":"7209af98-c665-4680-a3d5-1ee0598a182b"},{"id":"c3f2b7ae-02ae-4d21-b399-6fb2fee38235","end":{"outputVariables":{"missing_information":"{{missing_information}}"}},"type":"end","displayName":"End","__editingData":{"top":"0px","left":"471.5px"},"defaultTransitionId":null},{"id":"7209af98-c665-4680-a3d5-1ee0598a182b","type":"userMessage","displayName":"Generate Text","userMessage":{"mode":"background","source":"user","message":"You are a legal assistant reviewing missing information in a Dutch small-claims (kanton) case.\r\n\r\nINPUT\r\n<ontbrekend_bewijs>{{ontbrekend_bewijs}}</ontbrekend_bewijs>\r\n<missing_elements>{{missing_elements}}</missing_elements>\r\n\r\nBoth tags contain previously identified missing elements from different checks. Combine them before analysis.\r\n\r\n\r\n\r\nGoal\r\n\r\nMerge and deduplicate semantically equivalent items.\r\n\r\nProduce only the final questions for the UI: one question per unique missing item, phrased as:\r\n\r\nDo you have the [ITEM]? This is important because [WHY].\r\n\r\nRules\r\n\r\nNormalize obvious synonyms:\r\n\r\n“koopcontract”, “overeenkomst voor de koop (auto/zaak)”, “sales agreement”, “contract” → purchase agreement\r\n\r\n“ingebrekestelling”, “aanmaning”, “notice of default” → notice of default\r\n\r\n“factuurnummer”, “invoice no.” → invoice number\r\n\r\n“naam eiser/gedaagde”, “plaintiff/defendant name” → party name\r\n\r\n“adres gedaagde/woonadres/service address” → defendant address\r\n\r\nIf multiple candidates refer to the same document/info, keep one.\r\nWhen deduplicating, treat items as duplicates if they describe the same concept even with different wording or minor variations\r\n\r\nKeep the clearest phrasing of the item and the strongest reason (short, 1 sentence).\r\n\r\nOutput valid JSON only. No extra text, no markdown.\r\n\r\nIf nothing remains, return an empty list.\r\n\r\nOutput JSON\r\n\r\nDoel:\r\n\r\nZorg dat er in duidelijk JSON een response komt waarin staat: \r\n1. welke informatie ontbreekt en waarom die informatie noodzakelijk is. \r\n\r\nBekijk of er geen dubbele gevraagde informatie in zit. Zo ja, dan haal je de dubbele weg.\r\n\r\nBeoordeel of er dubbele ontbrekende informatie tussen zit. Haal die er dan uit.\r\n\r\nOUTPUT IN JSON ONLY\r\n\r\n{\r\n\r\n  \"missing_information\": [\r\n    {\r\n      \"item\": \"\",\r\n      \"why_needed\": \"\"\r\n    },\r\n\r\n}\r\n\r\nReturn valid JSON only (parsable without errors). Do not include explanations, markdown, or code fences.\r\nAlways return the key ‘missing_information’ with an array, even if it is empty","destinationVar":"missing_information","structuredOutputType":"json","structuredOutputExample":"{\r\n\r\n  \"missing_information\": [\r\n    {\r\n      \"item\": \"Kopie van factuur met leverdatum\",\r\n      \"why_needed\": \"Nodig om aan te tonen wanneer het product geleverd is en of de klacht binnen bekwame tijd is gedaan.\"\r\n    },\r\n\r\n}"},"__editingData":{"top":"0px","left":"151.25px"},"defaultTransitionId":"c3f2b7ae-02ae-4d21-b399-6fb2fee38235"}],"_chrome":{"promptGenerator":{"steps":{"7209af98-c665-4680-a3d5-1ee0598a182b":{"isEnhancing":false,"enhancedPrompt":""}}}},"initialStepId":"f637dc4f-855f-4bb4-867d-eaac60c9b2d4","defaultModelSettings":{"model":"claude-3-5-haiku","preamble":"","temperature":0.3,"maxResponseTokens":8192}}],"refs":{"prompts":{},"functions":{}}}